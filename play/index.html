<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>ケセリマで遊ぶ</title>
    <script src="main.js"></script>
</head>

<body>
    <a href="../documents/本文/index.html" target="_blank">公式ルールブック</a>
    <a href="../documents/対訳 ― 架空伝統ゲーム「ケセリマ」/index.html" target="_blank">公式ルールブックの対訳</a>
    <a href="../documents/ルール ― 架空伝統ゲーム「ケセリマ」/index.html" target="_blank">自然な日本語でのルール解説</a> 
    <a href="https://novelup.plus/story/433986940" target="_blank">「ケセリマ」――ミホスメヤ人の伝統ゲームとその文化（外部リンク）</a>
    <br>
    2021/06/11 14:31 カードが尽きたときに補充されないことがあるのを修正<br>
    2021/06/11 20:12 最初のカード3枚がなんと棋譜に書かれていなかったのを修正<br>
    <div id="myapp"></div>
    <script>
        function shuffle(array) {
            var currentIndex = array.length, temporaryValue, randomIndex;
            while (0 !== currentIndex) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }
            return array;
        }

        var keseDeck = [
            /**/0, 0, 0, 0, 0,
            1, 1, 1, 1, 1, 1,
            2, 2, 2, 2, 2, 2,
        ];
        shuffle(keseDeck);
        keseDeck.unshift(0);

        var rimaDeck = [
            /**/0, 0, 0, 0, 0,
            1, 1, 1, 1, 1, 1,
            2, 2, 2, 2, 2, 2,
        ];
        shuffle(rimaDeck);
        rimaDeck.unshift(0);

        var app = Elm.Main.init({
            node: document.getElementById('myapp'),
            flags: {
                keseGoesFirst: Math.random() < 0.5,
                keseDice: Math.random() < 0.5,
                rimaDice: Math.random() < 0.5,
                shipDice: Math.random() < 0.5,
                keseDeck, rimaDeck
            }
        });
    </script>
</body>

</html>